---
layout: post
author: Dboo
categories: IT_엔지니어를_위한_네트워크_입문
title: CH3. 네트워크 통신하기 (1)
tags: Network MAC_ADDR IP
---

## 1. 캐스트

출발지에서 목적지로 데이터를 전송할 때 사용하는 통신 방식은 다음과 같다.

- 유니캐스트 (1:1)
  출발지와 목적지가 각각 1개로 명확히 정해져 있는 1:1 통식방식이다. 대부분의 통신은 유니캐스트 통신이다.

- 브로드캐스트 (1:All)
  목적지 주소가 `모든`으로 표기되어 있는 통신 방식이다. 동일 네트워크에 존재하는 모든 호스트가 목적지이다.

- 멀티캐스트 (1:Group)
  멀티 캐스트는 그룹 주소를 이용해 해당 그룹에 속한 다수의 호스트에게 전달하기 위한 통신 방식이다.
  IPTV와 같은 실시간 방송을 볼 때 이 멀티캐스트 통신 방식을 사용한다. 사내 방송이나 증권 시세 전송과 같이
  단방향으로 다수에게 같은 내용을 전달할 때 사용한다.

- 애니캐스트 (1:1)
  애니캐스트는 애니캐스트 주소가 같은 호스트들 중에서 가장 가깝거나 가장 빠르게 서비스할 수 있는 호스트와
  통신하는 방식이다. 이런 애니캐스트 게이트웨이 성질을 이용해 가장 가까운 DNS 서버를 찾거나 가장 가까운
  게이트웨이를 찾는 기능에 사용하기도 한다.  
  현재 주로 사용되는 주소 체계는 IPv4기반이고, 일부 모바일 네트워크와 대규모 데이터 센터 위주로 IPv6
  기반 주소 체계가 사용되고 있다.

### 통신 방식 정리
|:-:|:-:|:-:|:-:|:-:|:-:|
|타입|통신 대상|범위|IPv4|IPv6|예제|
|-|-|-|-|-|-|
|유니캐스트|1:1|전체 네트워크|O|O|HTTP|
|브로드캐스트|1:All|서브넷(로컬 네트워크)|O|X|ARP|
|멀티캐스트|1:Group|정의된 구간|O|O|방송|
|애니캐스트|1:1|전체 네트워크|△|O|6 TO 4, DNS|

## 2. MAC 주소

MAC 주소는 Media Access Control의 줄임말로 2계층에서 통신을 위한 고유 식별자이다.

### 2.1 MAC 주소 체계

MAC 주소는 변경할 수 없도록 하드웨어에 고정되어 출하된다. MAC주소는 IEEE가 제조사에 할당하는 제조사
코드와 제조업체가 자체적으로 할당하는 주소로 이루어져있다.

MAC 주소는 48비트의 16진수 12자리로 표현된다.

![](/assets/img/Network-Starter/mac-address-format.jpeg)

앞의 24비트는 IEEE가 부여한 제조사 코드이고 뒤의 24비트값인 UAA는 각 제조사에서 할당한다. MAC 주소는
생산할 때 부여된다는 의미로 BIA(Burned-In Address)라고도 불린다.

### 2.2 MAC 주소 동작

NIC(Network Interface Card)는 전기신호가 들어오면 데이터 형태인 패킷으로 변환하여 도착지 MAC 주소를
확인한다. 만약 자신의 MAC 주소와 동일하지 않으면 페기한다. 패킷의 목적지가 자기 자신이거나 혹은
브로드캐스트, 멀티캐스트와 같은 그룹 주소이면 처리해야 할 주소로 인지해 패킷 정보를 상위 계층으로 넘긴다.
따라서 브로드캐스트나 멀티캐스트의 경우 OS나 어플리케이션에서 처리하게 되고 시스템에 부하로 작용한다.

## 3. IP 주소

OSI 7계층에서 주소를 갖는 계층은 2계층과 3계층이다. 2계층은 물리주소인 MAC 주소를 사용하고, 3계층에서는
논리 주소인 IP주소를 사용한다. IP주소를 포함한 3계층 주소는 다음과 같은 성질을 갖는다.

1. 사용자가 변경 가능한 논리 주소이다.
2. 주소에 레벨이 있고, 그룹을 의미하는 네트워크 주소와 호스트 주소로 나뉜다.

### 3.1. IP 주소 체계

우리가 흔히 알고 있는 IP주소는 32비트인 IPv4 주소이다. IP는 v4, v6 두 체계가 사용된다. IPv6 주소는
128비트이다. IPv4 주소는 32비트이고 총 4개의 옥텟이라고 부르는 8비트 단위로 나눠서 표기한다. MAC 주소가
16진수로 표기된 것과 달리 IP주소는 10진수로 각 옥텟은 0~255의 값을 쓸 수 있다.

![](/assets/img/Network-Starter/IPv4.jpeg)

IP 주소는 네트워크 주소와 호스트 주소로 나뉜다. MAC 주소의 경우처럼 절반씩 해당 주소를 의미하는 것은
아니고, IP 주소는 필요한 호스트 IP 갯수에 따라 네트워크의 크기를 다르게 할당할 수 있는 클래스 개념을
도입했다. 클래스에 따라서, 네트워크 주소를 나타내는 옥텟이 1개일수도 있고 3개일 수도 있게 된다.

몇번째 옥텟에서부터 네트워크 주소와 호스트 주소의 구분인지를 나타내는 구분자를 서브넷 마스크라고 하며
뒤에 설명된다.

### 3.2 클래스풀과 클래스리스

IP 주소의 클래스 기반의 주소체계를 일컬어 클래스풀이라고 부른다.
