---
layout: post
author: Dboo
categories: 독서노트
title: 클린코드 CH 1,2장 깨끗한 코드, 의미 있는 이름
tags: Book Review Study CleanCode
---

## 클린코드

- 팀 내에서 스터디할 책으로 선정되어 리뷰를 시작한다.
- 사실, 예전부터 한번 사서 읽어봐야겠다고 생각하고 있었는데 이참에 잘 된것 같다.

## 추천사

- 스크럼과 애자일에 관심이 많이 모아지는 현재는 시장에 신속하게 출시하는 방법론을 강조
- 하지만, 소프트웨어는 80% 이상이 유지보수이다. (심지어 자동차도 대다수 활동은 유지보수)
- 1951년 TPM 품질관리론
    - 유지보수에 초점
    - 5S 철학 
        - 정리|조직화 : 명명법
        - 정돈|체계화 : 위치
        - 청소|광내기 : 주석 및 이력
        - 청결|표준화 : 표준을 정하는 방법
        - 규율|생활화 : 주기적으로 규칙에 어긋나지 않는지 체크하고 변경할 것
- 벨 연구소 조사 : 일관적인 들여쓰기 스타일이 버그 수를 줄여주는 가장 중요한 요인이었다.
- 결합도와 응집도라는 아키텍쳐 척도는 바로 코드로 표출된다.
    - 결합도 : 모듈간의 상호 의존정도, 낮을수록 좋음
    - 응집도 : 하나의 모듈 내부에 존재하는 구성요소들의 기능적 관련성. 높을수록 좋음

## 들어가면서

- 장인 정신
    1. 원칙, 패턴, 기법, 경험이라는 지식을 습득
    2. 지식을 몸과 마음을 통해 체득

- 책의 구조 : 총 3 파트
    1. 깨끗한 코드를 작성하는 원칙, 패턴, 실기를 설명
    2. 사례 연구를 소개, 높은 복잡도
    3. 결론: 냄새(?), 휴리스틱(?)을 열거.

두번째 파트가 중요하다.

## CH 1. 깨끗한 코드

#### 나쁜 코드

- 킬러앱 출시회사 -> 업데이트 주기가 점점 길어지고, 버그 픽스가 되지 않아 망함
    원인 : 나쁜 코드

- 르블랑의 법칙 (Leblacn's Law) : 나중은 절대 돌아오지 않는다.
- 나쁜 코드로 고생함 : 고행 (wading)

#### 나쁜 코드로 치루는 대가

- 생산성 저하 -> 재설계 -> 새 시스템이 기존 시스템을 100% 구현할 때 까지 대체되지는 않는다.
- 원래 설계를 뒤집는 방향으로 요구사항이 바뀌었다고 불평 -> 좋은 코드를 사수하는 일은 개발자의 책임이다.
- 기한을 맞추기 위해 나쁜 코드를 양산한다 -> 오히려 깨끗한 코드가 기한을 맞출 수 있는 방법이다.
- 깨끗한 코드는 어떻게 작성할까? -> '청결', '코드 감각'
- 깨끗한 코드란?
    - 비야네 스트롭스트룹 : 우아한, 효율적인, 낮은 의존성, 오류처리, 간단한 논리, 한가지에 집중된 코드
    - 그래디 부치 : 깨끗한 코드는 잘 쓴 문장처럼 읽힌다, 명쾌한 추상화
    - 데이브 토마스 : 작성자가 아니라도 읽고 고치기 쉽게 써야함. Test Case가 존재함(TDD)
    - 마이클 페더스 : 주의 깊게 짜야함
    - 론 제프리스 : 중복제거. 객체의 수행 기능 최소화.
    - 위드 커닝햄 : 짐작한 기능이 수행된다면 깨끗한 코드이다.

#### 저술진의 생각 : 읽는 시간이 매우 많다.

#### 보이스카우트 전략

|캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라

#### 본 책에서는 OOP 설계원칙을 산발적으로 거론한다.

- [OOP 설계원칙](https://dboostudio.github.io/%ED%8C%A8%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%8D%BC%EC%8A%A4_%EC%9E%90%EB%B0%94%EC%98%AC%EC%9D%B8%EC%9B%90/2021/04/26/fc_java_aio_3_1.html)


## CH 2. 의미 있는 이름

- 해당 챕터에서는 명명법에 대한 규칙을 소개한다.

#### 의도를 분명히 밝혀라

- 변수(혹은 함수, 클래스)를 명명할 때 존재이유, 수행기능, 사용방법을 유추하기 쉽도록 명명한다.
- 명명할 때 함축성을 피하고 이미 알고있는 정보를 배제하지 않는다.

#### 그릇된 정보를 피하라

- 그릇된 단서를 피하고, 널리 쓰이는 단어를 다른 의미로 사용하는 것을 피한다.
    ex) 너무 줄인말, List가 아닌데 List를 써서 명명하는 것
- 흡사한 이름을 피한다.

#### 의미 있게 구분하라

- 불용어(noise word)를 사용하지 마라.
    - ex) 숫자만 붙인 변수들 : a1 a2 ... aN
    - ex) 비슷한 개념 : Product -> ProductInfo, ProductData / Customer, CustomerObject
    - ex) 변수이름에 variable을 사용하는 것, 표에 table, 문자열에 String

- a, the 와 같은 접두어는 사용을 지양하되 의미가 분명히 다르다면 사용가능하다.
- 읽는 이로 하여금 의미가 구분되도록 이름을 지어야 한다.

#### 발음하기 쉬운 이름을 사용하라

- genymdhms (generate date year month hour minute second).... -> Timestamp

#### 검색하기 쉬운 이름을 사용하라

- 너무 짧은 이름이나 상수, 문자 하나로 명명하는 것을 피한다.

#### 인코딩을 피하라

- 헝가리안 표기법 : 변수명에 데이터 타입을 표기하는 표기법, 필요가 없다.
- 멤버 변수 접두어 : m_ 과 같이 멤버 변수 접두어, 필요가 없으며 접두어는 사람들이 무시하는 경향이 있어 지양한다.

- 인터페이스 클래스와 구현 클래스
    꼭 인코딩해야한다면 인터페이스보다는 구현클래스의 이름을 인코딩(?)하는것이 좋다.

#### 자신의 기억력을 자랑하지 마라

#### 클래스의 이름은 명사나 명사구가 적합하다

- Customer, WikiPage, Account, .. 등 명사 및 명사구를 사용한다.
- Manager, Processor, Data, Info등과 같은 단어는 피하고 동사를 사용하지 않는다.

#### 메소드의 이름은 동사나 동사구가 적합하다

- postPayment, deletePage, save 등이 좋은 예
- 접근자, 변경자, 조건자는 javabean규약에 따라 get, set, is를 붙인다.
- 생성자를 중복정의(oveload)할 때에는 정적 팩토리 메소드를 이용하는 것이 좋다.
    ~~~java
    Complex fulcrumPoint = Complex.FromRealNumber(23.0); // 권장

    Complex fulcrumPoint = new Complex(23.0); // 지양
    ~~~

#### 기발한 이름을 피하라

#### 한 개념에 한 단어를 사용하라

#### 말장난을 하지 마라
- 한 개념의 한 단어를 사용하라고 했다고, 예를 들어 두 값을 더하는 메소드의 이름을 add라 명명하고 그 후 집합에 값을 추가하는 메소드의 이름도 add라고 명명하는 것은 다른 맥락이므로 적절치 않다.

#### 해법 영역에서 가져온 이름을 사용하라

- 잘 알려진 기술이름이나 보편적인 개념의 이름을 사용한다.

#### 의미 있는 맥락을 추가하라

- ex) firstName, lastName, street, city, state ... -> addrFirstName, addrLastName, addrStreet, ...
- addr 접두어를 사용하여 변수명만 보더라도 맥락을 파악할 수 있도록 하라

- 맥락을 유추할 수 없는 변수이지만 클래스를 만들어 포함시킴으로 클래스를 통해 맥락을 파악할 수 있도록 할 수 있다

#### 불필요한 맥락을 없애라

#### 마치면서

- 설명능력과 문화적인 배경의 동일함이 좋은 이름을 선택하는데 큰 요인으로 작용한다.
- 다른 개발자가 반대하니까 이름을 바꾸지 않는다? -> 오히려 바꾸면 반갑고 고맙다. 라고 생각해야 한다

## 정리 및 느낀점

- CH1 의 경우는 왜 우리가 클린코드를 작성하려고 노력해야 하는지에 대한 서론과 같은 부분이었다.
- CH2 명명법의 경우는 자세한 사례와 의미를 소개하면서 명명해야하는 방향성을 제시한다.

- 불용어를 사용하지 마라에서 제시한 예들을 많이 사용하고 있었는데 쓰면서도 명명에 있어 답답한 부분이 있었다. 해당 부분을 주의깊게 생각해야 할 것 같다.



